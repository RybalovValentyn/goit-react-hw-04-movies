{"version":3,"sources":["servises/MovieAPI.js","components/navigation/navigation.module.css","components/pageHeader/PageHeader.js","components/container/container.module.css","components/appBar/appBar.module.css","components/pageHeader/pageheader.module.css","components/container/Container.js","components/navigation/Navigation.js","components/appBar/AppBar.js","views/MovieSearch.js","views/MovieDetailsView.js","App.js","index.js","views/views.module.css"],"names":["Config","fetcMovies","a","url","config","fetch","response","ok","json","Promise","reject","Error","fetchHomeMovies","fetchMuvieViews","movieId","fetchMuvieById","fetchMuvieCastiews","fetchMuvieSearch","searchQuery","module","exports","PageHeading","text","className","styles","title","Container","children","container","Navigation","exact","to","link","activeClassName","activeLink","Appbar","header","RenderPage","lazy","MovieSearch","history","useHistory","location","useLocation","useState","searchMovie","setsearchMovie","setsearchQuery","movie","setmovie","useEffect","then","results","catch","error","console","log","search","PageHeader","onSubmit","event","preventDefault","push","s","labelInpt","input","type","name","value","onChange","target","submitBtn","fallback","movies","query","CastViews","ReviewsViews","MovieDetailsView","useRouteMatch","path","useParams","headerDetails","original_title","onClick","state","from","detailContainer","detailImage","src","poster_path","alt","genres","map","genre","genreItems","id","overview","release_date","castContainer","pathname","label","infoItem","App","HomePage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gVAEMA,EACQ,QADRA,EAEI,E,SAGKC,I,2EAAf,4CAAAC,EAAA,6DAA0BC,EAA1B,+BAAgC,GAAIC,EAApC,+BAA6C,GAA7C,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,mF,wBAOO,SAASC,IACd,OAAOX,EAAW,GAAD,OAfF,wDAeE,OAdP,mCAcO,qBAA+BD,EAA/B,iBAAuDA,IAGnE,SAASa,EAAgBC,GAC9B,OAAOb,EAAW,sCAAD,OAAuCa,EAAvC,4EAIZ,SAASC,EAAeD,GAE7B,OAAOb,EAAW,sCAAD,OAAuCa,EAAvC,6DAIZ,SAASE,EAAmBF,GACjC,OAAOb,EAAW,uCAAD,OAAwCa,EAAxC,qEAIZ,SAASG,EAAiBC,GAC/B,OAAOjB,EAAW,qHAAD,OAIuFiB,EAJvF,kC,mBClCnBC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,wD,gCCD/D,8DAEe,SAASC,EAAT,GAAgC,IAATC,EAAQ,EAARA,KACpC,OAAO,oBAAIC,UAAWC,IAAOC,MAAtB,SAA8BH,M,mBCFvCH,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,MAAQ,4B,kHCCX,SAASM,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OAAO,qBAAKJ,UAAWC,IAAOI,UAAvB,SAAmCD,I,qBCsB7BE,EAtBI,kBACjB,gCACE,cAAC,IAAD,CACEC,OAAK,EACLC,GAAG,IACHR,UAAWC,IAAOQ,KAClBC,gBAAiBT,IAAOU,WAJ1B,kBASA,cAAC,IAAD,CACEH,GAAG,UACHR,UAAWC,IAAOQ,KAClBC,gBAAiBT,IAAOU,WAH1B,wB,iBCXW,SAASC,IACtB,OACE,wBAAQZ,UAAWC,IAAOY,OAA1B,SACE,cAAC,EAAD,M,oDCEAC,EAAaC,gBAAK,kBAAM,gCAGf,SAASC,IACpB,IAAMC,EAAUC,cACVC,EAAWC,cAGjB,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAsCF,mBAAS,IAA/C,mBAAO1B,EAAP,KAAoB6B,EAApB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOI,EAAP,KAAcC,EAAd,KA6CJ,OA7BIC,qBAAU,WACAhC,GAEHjB,IAA4BiB,GAAaiC,MAAK,SAAAH,GAC7CC,EAASD,EAAMI,YAGnBC,OAAM,SAAAC,GACNC,QAAQC,IAAIF,QAId,CAACpC,IAGHgC,qBAAU,WACEV,EAAQE,SAASe,QAEjBxD,IAA4BuC,EAAQE,SAASe,QAAQN,MAAK,SAAAH,GACzDC,EAASD,EAAMI,YAGnBC,OAAM,SAAAC,GACNC,QAAQC,IAAIF,QAGf,CAACZ,IAIX,qCACQ,cAACgB,EAAA,EAAD,CAAYpC,KAAK,gBAEjB,uBAAOqC,SAzCU,SAAAC,GACjBA,EAAMC,iBACNd,EAAeF,GAEfL,EAAQsB,KAAR,2BAAiBpB,GAAjB,IAA2Be,OAAO,GAAD,OAAKZ,MACtCC,EAAe,KAoCf,UAEI,uBAAOvB,UAAWwC,IAAEC,UAApB,SACA,uBAAOzC,UAAWwC,IAAEE,MACpBC,KAAK,OACLC,KAAK,OACLC,MAAOvB,EACPwB,SApDa,SAAAT,GACjBd,EAAec,EAAMU,OAAOF,YAuDxB,wBAAQ7C,UAAWwC,IAAEQ,UAAWL,KAAK,SAArC,uBAEA,cAAC,WAAD,CAAUM,SAAU,4CAApB,SACA,cAACnC,EAAD,CAAYoC,OAAQzB,EAAO0B,MAAOxD,SCzE9C,IAAMyD,EAAYrC,gBAAK,kBAAM,gCACvBsC,EAAetC,gBAAK,kBAAM,gCAEjB,SAASuC,IACvB,MAAsBC,cAAd3E,EAAR,EAAQA,IAAK4E,EAAb,EAAaA,KACLjE,EAAYkE,cAAZlE,QACP,EAA0B8B,mBAAS,MAAnC,mBAAOI,EAAP,KAAcC,EAAd,KACMP,EAAWC,cACXH,EAAUC,cAEhBS,qBAAU,WACRjD,IAA0Ba,GAASqC,MAAK,SAAAH,GACpCC,EAASD,QAGZ,CAAClC,IAOJ,OACE,qCAEEkC,GAAS,cAACU,EAAA,EAAD,CAAYnC,UAAWwC,IAAEkB,cAAe3D,KAAI,UAAK0B,EAAMkC,kBAEjE,wBAAQhB,KAAK,SAASiB,QATH,WAAM,IAAD,MAE7B3C,EAAQsB,KAAR,iBAAapB,QAAb,IAAaA,GAAb,UAAaA,EAAU0C,aAAvB,iBAAa,EAAiBC,YAA9B,aAAa,EAAuB3C,gBAApC,QAAgD,MAO3C,kBACEM,GAEC,sBAAKzB,UAAWwC,IAAEuB,gBAAlB,UACI,8BACF,qBAAK/D,UAAWwC,IAAEwB,YAAaC,IAAG,yCAAoCxC,EAAMyC,aAAeC,IAAK1C,EAAMkC,mBAEtG,gCACE,6BAAKlC,EAAMkC,iBACf,6BACWlC,EAAM2C,OAAOC,KAAI,SAAAC,GAAK,OACjC,qBAAItE,UAAWwC,IAAE+B,WAAjB,UAA6CD,EAAM1B,KAAnD,OAAkC0B,EAAME,SAGpC,0CACA,4BAAI/C,EAAMgD,WACV,+CAAkBhD,EAAMiD,sBAMxB,sBAAK1E,UAAWwC,IAAEmC,cAAlB,UACI,yDACA,+BACA,eAAC,IAAD,CACAnE,GAAI,CACFoE,SAAS,GAAD,OAAKhG,EAAL,SACRiF,MAAO,CACLC,KAAM,CAAE3C,WAAY0D,MAAO,eAAiB3C,OAAQjB,EAAQE,SAASe,UAJzE,cASE,oBAAIlC,UAAWwC,IAAEsC,SAAjB,qBAEF,cAAC,IAAD,CACItE,GAAI,CACFoE,SAAS,GAAD,OAAKhG,EAAL,YACViF,MAAO,CACNC,KAAM,CAAE3C,WAAY0D,MAAO,eAAiB3C,OAAQjB,EAAQE,SAASe,UAJ1E,SAOD,oBAAIlC,UAAWwC,IAAEsC,SAAjB,6BAGH,uBACJ,cAAC,WAAD,CAAU7B,SAAU,4CAApB,SACA,eAAC,IAAD,WACK,cAAC,IAAD,CAAOO,KAAI,UAAKA,EAAL,SAAX,SACC/B,GAAU,cAAC2B,EAAD,MAGZ,cAAC,IAAD,CAAOI,KAAI,UAAKA,EAAL,YAAX,SACA/B,GAAS,cAAC4B,EAAD,cCvCN0B,MAxCf,WACE,IAAMC,EAAWjE,gBAAK,kBAAI,gCAE1B,OACF,eAACZ,EAAD,WAEA,cAACS,EAAD,IACA,cAAC,WAAD,CAAUqC,SAAS,UAAnB,SAEM,eAAC,IAAD,WACE,cAAC,IAAD,CAAO1C,OAAK,EAACiD,KAAK,IAAlB,SACA,cAACwB,EAAD,MAGA,cAAC,IAAD,CAAOzE,OAAK,EAACiD,KAAK,UAAlB,SACE,cAACxC,EAAD,MAIF,cAAC,IAAD,CAAOwC,KAAK,mBAAZ,SACE,cAACF,EAAD,e,QCxBV2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,eAAC,IAAD,WACA,cAAC,IAAD,IACE,cAAC,EAAD,SAGJC,SAASC,eAAe,U,kBCZ1BzF,EAAOC,QAAU,CAAC,UAAY,yBAAyB,WAAa,0BAA0B,YAAc,2BAA2B,YAAc,2BAA2B,cAAgB,6BAA6B,WAAa,0BAA0B,gBAAkB,+BAA+B,cAAgB,6BAA6B,SAAW,wBAAwB,UAAY,yBAAyB,YAAc,8B","file":"static/js/main.b119acc3.chunk.js","sourcesContent":["const BASE_URL = ' https://api.themoviedb.org/3/movie/popular?api_key=';\r\nconst Key = 'e7d10f6c3b01c863e408d25d6d0fc59c'\r\nconst Config ={\r\n    language: 'en-US',\r\n    page: 1\r\n}\r\n\r\nasync function fetcMovies(url = '', config = {}) {\r\n  const response = await fetch(url, config);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\n\r\nexport function fetchHomeMovies() {\r\n  return fetcMovies(`${BASE_URL}${Key}&language=${Config.language}&page=${Config.page}`);\r\n}\r\n\r\nexport function fetchMuvieViews(movieId) {\r\n  return fetcMovies(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=e7d10f6c3b01c863e408d25d6d0fc59c&language=en-US&page=1`);\r\n\r\n}\r\n\r\nexport function fetchMuvieById(movieId) {\r\n  // return fetcMovies(`${SearchURL}{${movieId}}?api_key=${Key}&language=en-US`);\r\n  return fetcMovies(`https://api.themoviedb.org/3/movie/${movieId}?api_key=e7d10f6c3b01c863e408d25d6d0fc59c&language=en-US`)\r\n\r\n}\r\n\r\nexport function fetchMuvieCastiews(movieId) {\r\n  return fetcMovies(`https://api.themoviedb.org/3/movie//${movieId}/credits?api_key=e7d10f6c3b01c863e408d25d6d0fc59c&language=en-US`);\r\n\r\n}\r\n\r\nexport function fetchMuvieSearch(searchQuery) {\r\n  return fetcMovies(`\r\n \r\n\r\n \r\nhttps://api.themoviedb.org/3/search/movie?api_key=e7d10f6c3b01c863e408d25d6d0fc59c&language=en-US&query=${searchQuery}&page=1&include_adult=false`);\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"navigation_link__2rPP-\",\"activeLink\":\"navigation_activeLink__2VkW_ navigation_link__2rPP-\"};","import styles from './pageheader.module.css';\r\n\r\nexport default function PageHeading({ text }) {\r\n  return <h1 className={styles.title}>{text}</h1>;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__3M9BX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"appBar_header__1AHJE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"pageheader_title__5EgJA\"};","import styles from './container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}","import { NavLink} from 'react-router-dom';\r\nimport styles from './navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink\r\n      exact\r\n      to=\"/\"\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/movies\"\r\n      className={styles.link}\r\n      activeClassName={styles.activeLink}\r\n    >\r\n      Movies\r\n    </NavLink>\r\n\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;","import Navigation from '../navigation/Navigation';\r\nimport styles from './appBar.module.css';\r\n\r\nexport default function Appbar() {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n    </header>\r\n  );\r\n}\r\n","import s from './views.module.css'\r\nimport { useState, useEffect, lazy, Suspense} from 'react';\r\nimport PageHeader from '../components/pageHeader/PageHeader';\r\nimport * as fetcMovies from '../servises/MovieAPI';\r\nimport { useHistory, useLocation} from 'react-router';\r\nimport { Link} from 'react-router-dom';\r\n\r\n\r\nconst RenderPage = lazy(() => import('./RenderPage'));\r\n\r\n\r\nexport default function MovieSearch() {\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    // console.log('location', location);\r\n\r\n    const [searchMovie, setsearchMovie] = useState('');\r\n    const [searchQuery, setsearchQuery] = useState('');\r\n    const [movie, setmovie] = useState('');\r\n\r\n//     const movieorder = new URLSearchParams(location.search).get('search-nbjhbjhbjhbjhb')  //метод изменения историии стороки поиска, получили данные со строки поиска\r\n// console.log(movieorder);\r\n    const handleChange = event => {\r\n        setsearchMovie(event.target.value)\r\n    };\r\n    \r\n    const handleSubmit = event => {\r\n        event.preventDefault();        \r\n        setsearchQuery(searchMovie)\r\n        \r\n        history.push({...location, search: `${searchMovie}`})\r\n        setsearchMovie('')\r\n       };\r\n\r\n    useEffect(() => {\r\n          if (searchQuery) {\r\n\r\n           fetcMovies.fetchMuvieSearch(searchQuery).then(movie => {\r\n            setmovie(movie.results);\r\n     \r\n       } )\r\n       .catch(error => {\r\n        console.log(error);\r\n    });\r\n    }\r\n\r\n    },[searchQuery])\r\n\r\n       \r\n    useEffect(()=>{\r\n            if (history.location.search) {\r\n\r\n                fetcMovies.fetchMuvieSearch(history.location.search).then(movie => {\r\n                 setmovie(movie.results);\r\n          \r\n            } )\r\n            .catch(error => {\r\n             console.log(error);\r\n         });\r\n         }\r\n        },[location])\r\n        \r\n\r\nreturn(\r\n<>\r\n        <PageHeader text='MovieSearch' />\r\n\r\n        <form  onSubmit={handleSubmit} >\r\n\r\n            <label className={s.labelInpt} >\r\n            <input className={s.input}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={searchMovie}\r\n            onChange={handleChange}\r\n            /></label>\r\n\r\n\r\n            <button className={s.submitBtn} type='submit' >Search</button>\r\n            </form>\r\n            <Suspense fallback={<h1>Waiting...</h1>} >\r\n            <RenderPage movies={movie} query={searchQuery}/>\r\n            </Suspense>\r\n            </>\r\n    )\r\n}","import { useState, useEffect,lazy, Suspense } from 'react';\r\nimport { NavLink, useParams } from 'react-router-dom';\r\nimport PageHeader from '../components/pageHeader/PageHeader';\r\nimport * as fetcMovies from '../servises/MovieAPI';\r\nimport s from './views.module.css'\r\nimport { Link, Route, useRouteMatch,Switch} from 'react-router-dom';\r\nimport { useHistory, useLocation} from 'react-router';\r\n\r\nconst CastViews = lazy(() => import('./Cast'));\r\nconst ReviewsViews = lazy(() => import('./Reviews'));\r\n\r\nexport default function MovieDetailsView() {\r\n const { url, path } = useRouteMatch();\r\n  const {movieId } = useParams();//отслеживает динамические параметри useParams\r\n  const [movie, setmovie] = useState(null);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetcMovies.fetchMuvieById(movieId).then(movie => {\r\n        setmovie(movie);\r\n      \r\n      });\r\n  }, [movieId]);\r\n\r\n\r\n  const onHandleClick = () =>{\r\n\r\nhistory.push(location?.state?.from?.location ?? '/')  //переход на страницу(отсылае в историю новую запись)\r\n  }\r\n  return (\r\n    <>\r\n\r\n     {movie && <PageHeader className={s.headerDetails} text={`${movie.original_title}`} />}\r\n\r\n     <button type=\"button\" onClick={onHandleClick}>Back</button>\r\n      {movie && (\r\n      \r\n        <div className={s.detailContainer}>\r\n            <div>\r\n          <img className={s.detailImage} src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`} alt={movie.original_title} />\r\n          </div>\r\n          <div>\r\n            <h2>{movie.original_title}</h2>\r\n        <ul>\r\n                  {movie.genres.map(genre=>(\r\n        <li className={s.genreItems} key={genre.id}>{genre.name}  </li>\r\n                        ))}\r\n        </ul>\r\n            <h3>Overview</h3>\r\n            <p>{movie.overview}</p>\r\n            <p>Release date: {movie.release_date}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n         \r\n\r\n            <div className={s.castContainer}>\r\n                <h3>Additional Information </h3>\r\n                <ul>\r\n                <NavLink \r\n                to={{\r\n                  pathname: `${url}/cast`,//откуда\r\n                  state: {  \r\n                    from: { location  , label: 'go to movies' , search: history.location.search }                    //куда перешли\r\n\r\n                  }\r\n                }}\r\n                  \r\n                > <li className={s.infoItem}>Cast</li></NavLink>\r\n\r\n                <NavLink \r\n                    to={{\r\n                      pathname: `${url}/reviews`,//откуда\r\n                    state: {  \r\n                     from: { location  , label: 'go to movies' , search: history.location.search }                    //куда перешли\r\n                         }\r\n                                }}\r\n              ><li className={s.infoItem}>Reviews</li></NavLink>\r\n                </ul>\r\n            </div>\r\n            <hr />\r\n        <Suspense fallback={<h1>Waiting...</h1>}>\r\n        <Switch>\r\n             <Route path={`${path}/cast`}>\r\n             {movie &&  <CastViews  />}\r\n            </Route> \r\n\r\n            <Route path={`${path}/reviews`}>\r\n           {movie && <ReviewsViews />}\r\n\r\n            </Route> \r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n","\nimport React, { lazy, Suspense} from \"react\";\nimport { Switch, Route } from 'react-router-dom';\n// import s from './app.module.css'\n// import HomePage from './views/HomePage';\nimport Container  from './components/container/Container';\nimport Appbar from './components/appBar/AppBar';\nimport MovieSearch from './views/MovieSearch'\nimport MovieDetailsView from './views/MovieDetailsView'\n\nfunction App() {\n  const HomePage = lazy(()=>import('./views/HomePage'));\n \n  return (\n<Container>\n\n<Appbar/>\n<Suspense fallback='waiting' >\n  \n      <Switch>\n        <Route exact path=\"/\" >\n        <HomePage />\n        </Route>\n\n        <Route exact path=\"/movies\">\n          <MovieSearch/>\n        </Route>\n\n\n        <Route path=\"/movies/:movieId\">\n          <MovieDetailsView />\n        </Route>\n{/* \n        <Route>\n          <NotFoundView />\n        </Route> */}\n      </Switch>\n\n      </Suspense>\n\n\n\n</Container>\n\n\n\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport Normalize from 'react-normalize';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <Normalize />\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"views_container__1rl9Y\",\"mlviesItem\":\"views_mlviesItem__3ADkb\",\"mlviesImage\":\"views_mlviesImage__3zRU2\",\"detailImage\":\"views_detailImage__1-K87\",\"headerDetails\":\"views_headerDetails__3VWNf\",\"genreItems\":\"views_genreItems__2a9J5\",\"detailContainer\":\"views_detailContainer__2ybxg\",\"castContainer\":\"views_castContainer__1SuvV\",\"infoItem\":\"views_infoItem__1PIki\",\"castImage\":\"views_castImage__Kk7ql\",\"contentItem\":\"views_contentItem__3lqN1\"};"],"sourceRoot":""}